!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}({0:function(t,e,n){"use strict";function o(t){const e=t.getBoundingClientRect(),n=e.top,o=e.bottom;return n<window.innerHeight&&o>=0}function r(t){return t>=99&&t<=145?`dist/images/${t}.gif`:`dist/images/${t}.jpg`}n.r(e),n(1);const i=[];function a(t,e){return new Promise((n,o)=>{setTimeout(()=>(t&&t.classList.remove("make-transparent"),n(!0)),e)})}function s(t,e=1,n=!1){!0===n&&(t.style.top="-50px"),setInterval(()=>{const o=Number(window.getComputedStyle(t).top.split("px")[0]),r=n?o+e:o-e;-50!==r&&0!==r||(n=!n),requestAnimationFrame(()=>{t.style.top=`${r}px`})},100)}const c=document.querySelector(".images--preload");let u=-30;function l(t){return u+=t}var d=function(t,e,n=3e3){const o=document.createElement("video"),r=t.getContext("2d"),i=e.getContext("2d");navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(t=>{o.srcObject=t,o.play()}).catch(t=>{console.error("cannot get user video!",t)}),o.addEventListener("canplay",function(){const a=o.videoWidth,s=o.videoHeight;return t.width=a,t.height=s,e.width=a,e.height=s,setInterval(()=>{r.drawImage(o,0,0,a,s);let t=r.getImageData(0,0,a,s);t=function(t){for(let e=0;e<t.data.length;e+=4)t.data[e+0]=t.data[e+0]+u,t.data[e+1]=t.data[e+1]+u,t.data[e+2]=t.data[e+2]+u;return t}(t),r.globalAlpha=1,r.putImageData(t,0,0),setTimeout(()=>{requestAnimationFrame(()=>{i.putImageData(t,0,0)})},n)},16)})},m=function(t){switch(t){case"picture-frame":return function(){const t=[];for(let e=-5;e<100;e+=15){const n={width:"20%",top:"-5%",left:`${e}%`};t.push(n)}for(let e=10;e<100;e+=15){const n={height:"20%",top:`${e}%`,right:"0%"};t.push(n)}for(let e=85;e>0;e-=15){const n={width:"20%",top:"85%",left:`${e}%`};t.push(n)}for(let e=85;e>0;e-=15){const n={height:"20%",top:`${e}%`,left:"0%"};t.push(n)}return t}();case"full-cover":return function(){const t=[];let e,n=!0;for(let o=-5;o<100;o+=15){for(e=n?-5:95;e>-10&&e<100;){const r={width:"20%",height:"auto",top:`${o}%`,left:`${e}%`,right:"auto"};t.push(r),n?e+=12:e-=12}n=!n}return t}();case"circle-frame":return function(){const t=[];for(let e=0;e<2;e+=.05){const n=40+Math.round(40*Math.cos(e*Math.PI)),o={width:"20%",height:"auto",top:`${40+Math.round(40*Math.sin(e*Math.PI))}%`,left:`${n}%`,right:"auto"};t.push(o)}return t.push({width:"100%",height:"100%",top:"0",left:"0",right:"auto",src:"dist/images/125.gif"}),t}();case"x-frame":return function(){const t=[];for(let e=0;e<100;e+=5){const n={width:"20%",height:"auto",top:`${e}%`,left:`${e}%`,right:"auto"};t.push(n)}for(let e=100;e>0;e-=5){const n={width:"20%",height:"auto",top:`${100-e}%`,left:"auto",right:`${100-e}%`};t.push(n)}return t}();case"squiggle":return function(){const t=[];let e=!0,n=45;for(let o=0;o<100;o+=2){const r={width:"20%",height:"auto",top:`${n}%`,left:`${o}%`,right:"auto"};t.push(r),e?n-=3:n+=3,n>52&&(e=!0),n<32&&(e=!1)}for(let e=0;e<100;e+=4){const n={width:"20%",top:"2%",right:`${e}%`};t.push(n)}for(let e=0;e<100;e+=4){const n={width:"20%",bottom:"2%",left:`${e}%`,right:"auto"};t.push(n)}return t}();case"zig-zag":return function(){const t=[];let e=!0,n=-10;for(let o=-10;o<100;o+=1.76){const r={width:"20%",bottom:`${n}%`,left:`${o}%`};t.push(r),e?n+=6:n-=6,o<90&&(n<-10||n>100)&&(e=!e)}return e=!e,t}();case"random":return function(t){const e=[];for(let n=0;n<t;n++){const t={width:"20%",left:`${Math.round(120*Math.random()-10)}%`,top:`${Math.round(120*Math.random()-10)}%`};e.push(t)}return e}(100)}};function h(t,e,n=50){return new Promise((o,r)=>{let i=0;const a=setInterval(()=>{!function(t,e){const n={width:"auto",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto",src:function(){const t=Math.round(149*Math.random());return t>=99&&t<=145?`dist/images/${t}.gif`:`dist/images/${t}.jpg`}(),...e},{width:o,height:r,top:i,bottom:a,left:s,right:c,src:u}=n,l=`<img src="${u}" style="position: absolute; left: ${s}; right: ${c}; top: ${i}; bottom: ${a}; width: ${o}; height: ${r}"></img>`;window.requestAnimationFrame(()=>{t.innerHTML+=l})}(t,e[i]),i==e.length-1&&(clearInterval(a),o(!0)),i++},n)})}let f;var g=async function(t,e){return new Promise(async(n,o)=>{if(f===e)return;f=e;const r=m(e);await h(t,r),setTimeout(()=>{n(!0)},1600)})};const p=900,w=54;function y(t){return t.trim().split(" ").map(v).join(" ")}function v(t){return Array.from({length:t.length},q).join("")}function q(t="abcdefghijklmnopqrstuvwxyz"){return t.split("")[Math.floor(Math.random()*t.length)]}var b=function(t){const e=document.querySelector(t).querySelector("h1");e&&function(t){if(t.isRunning)return;const e=t.innerHTML,n=t.innerText;!function(t){t.isRunning=!0;const e=t.getBoundingClientRect().height;t.style.height=`${e}px`,t.style.wordBreak="break-all"}(t);const o=Date.now();let r;requestAnimationFrame(function i(){const a=Date.now();if(a>o+p+n.length*w)return cancelAnimationFrame(r),function(t,e){t.style.height="auto",t.style.wordBreak="normal",t.innerHTML=e,t.isRunning=!1}(t,e);if(a>o+p){const e=Math.floor((a-(o+p))/(n.length*w)*n.length);t.innerHTML=n.slice(0,e)+y(n.slice(e))}else t.innerHTML=y(n);r=requestAnimationFrame(i)})}(e)};const $=document.querySelector(".wrapper--webcam");function S(){!function(t,e){let n=1.2,r=0;t.isRunning||(t.isStarted=!1,t.isRunning=!0,setTimeout(function i(a=250,s=3){const c=document.querySelector(".wrapper--questions");let u=0,l=0;const d=setInterval(()=>{const{isStarted:m,isRunning:h}=t;if(m&&!o(t))return function(t,e){return t.isStarted=!1,t.isRunning=!1,clearInterval(e)}(t,d);!m&&o(t)&&(t.isStarted=!0),m&&requestAnimationFrame(()=>{if(t.innerHTML=e[u],u===e.length-1?u=0:u++,r>4&&(n+=.01,c.style.transform=`scale(${n})`),l===s&&a>5){return clearInterval(d),t.innerHTML=e[u],r++,i(a<20?5:a-20)}l++})},a)},300))}(document.getElementById("questions").querySelector("h1"),["Noise becomes signal.","Signal becomes story.","Stories become actions."])}function A(t){return new Promise((e,n)=>{document.querySelectorAll(t).forEach(t=>{t.classList.add("final-off"),t.addEventListener("transitionend",()=>{e(!0)})})})}function L(t){t.forEach(t=>{t.remove()})}n(12);const T=document.getElementById("boop"),M=document.querySelectorAll(".quiz-link"),E=(document.querySelector('[data-delete-all-pages="true"]'),document.querySelector('[data-last-modal="true"]'),document.querySelector(".page--webcam"),document.querySelector(".webcam-canvas--one")),I=document.querySelector(".webcam-canvas--two"),k=document.querySelector(".shape-1"),F=document.querySelector(".shape-2"),x=document.querySelector(".horizontal-scroll"),C=document.querySelectorAll(".bttn--swap"),H=document.querySelectorAll(".page"),P=document.querySelectorAll(".modal");async function B(t){t.preventDefault();const{popupPattern:e,jumbleTarget:n,scroll:o,scrollRight:r,questionsTrigger:i,modalTarget:s,quizTarget:c,normalTarget:u,isModal:l,transitionToFeelings:m,transitionToWebcam:h,deleteBackground:f,canClickAnywhere:p}=this.dataset,{boop:w}=t.target.dataset,{nodeName:y}=t.target,v=t.target.hash||u;if(p||["A","SPAN","BUTTON"].includes(y)){var q,$;if(w&&((q=T).currentTime=0,q.play()),e&&await g(this,e),n&&b(n),c&&async function(t,e){const n=t.querySelectorAll("h1"),o=t.querySelectorAll("a");await a(null,250),n[0]&&await a(n[0],250),n[1]&&await a(n[1],1500),await a(o[0],1500),await a(o[1],500),await a(o[2],500)}(document.querySelector(v)),i&&S(),l&&(($=this).classList.remove("on"),$.classList.add("off"),$.addEventListener("transitionend",()=>{$.style.display="none"})),s&&function(t){const e=document.getElementById(t);requestAnimationFrame(()=>e.classList.remove("off")),requestAnimationFrame(()=>e.classList.add("prep")),setTimeout(()=>{requestAnimationFrame(()=>e.classList.add("on"))},100)}(s),f&&L(document.querySelectorAll(".background-image")),h)return await(document.body.style.background="black",new Promise(async(t,e)=>{L(document.querySelectorAll(".background-image")),A(".modal"),await A(".questions"),L(document.querySelectorAll('[data-delete="true"]')),L(document.querySelectorAll(".modal")),L(document.querySelectorAll("horizontal-scroll")),L(document.querySelectorAll(".page")),t(!0)})),d(E,I),document.body.style.marginTop="0",function(){const t=document.getElementById("webcam-page");setTimeout(()=>{(function(t,e={}){const n={behavior:"smooth",...e};document.querySelector(t).scrollIntoView(n)})("#webcam-page"),setTimeout(()=>{window.requestAnimationFrame(()=>{t.classList.remove("off"),t.classList.add("on")})},400)},4e3)}();r&&(x.style.marginLeft=`-${r}vw`),o&&(document.body.style.marginTop=`-${o}vh`)}}var R,j;H.forEach(t=>t.addEventListener("click",B)),P.forEach(t=>t.addEventListener("click",B)),window.addEventListener("load",()=>(R=k,j=F,s(R,.5),void s(j,.5,!0))),document.querySelectorAll(".modal").forEach(t=>t.isModal=!0),setTimeout(()=>(function(t){let e=0;const n=setInterval(()=>{e>=t?(clearInterval(n),console.log("images loaded")):window.requestAnimationFrame(()=>{c.innerHTML+=`<img src="${r(e)}" width="1" height="1">`,e++})},20)})(149),4e3),M.forEach(t=>(function t(e){const n=[0,1,2,5,8,9,10,11,12,17,18,19,21,23,24,26,27,29,30,32,33,35,40,42,43,44,45,46,48,50,53],o=n[Math.floor(Math.random()*n.length)];if(i.indexOf(o)>-1)return t(e);i.push(o),e.style.backgroundImage=`url('${r(o)}')`})(t)),document.addEventListener("keyup",function(t){const e=Number(window.getComputedStyle($).filter.match(/\d+\.\d+|\d+/)[0]);if(38===t.keyCode){const t=`brightness(${(e+.05).toFixed(2)})`;$.style.filter=t,console.log(`brightness is now ${t}`)}else if(40===t.keyCode){const t=`brightness(${(e-.05).toFixed(2)})`;$.style.filter=t,console.log(`brightness is now ${t}`)}else if(37===t.keyCode){const t=l(-5);console.log("increment is now "+t)}else if(39===t.keyCode){const t=l(5);console.log("increment is now "+t)}}),C.forEach(t=>t.addEventListener("mouseover",()=>C.forEach(t=>t.classList.add("swap")))),C.forEach(t=>t.addEventListener("mouseleave",()=>C.forEach(t=>t.classList.remove("swap")))),setTimeout(()=>{},200)},1:function(t,e){const n=document.querySelector("#sadnessDotOnline");!function(t){let e=0;const o=setInterval(()=>{window.requestAnimationFrame(()=>{t[e].classList.add("on"),++e==t.length-5&&function(t){function e(){setTimeout(()=>{window.requestAnimationFrame(()=>this.classList.remove("up"))},80)}let o=0;setInterval(()=>{if(!function(t){const e=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,r=e.top<=n&&e.top+e.height>=0,i=e.left<=o&&e.left+e.width>=0;return r&&i}(n))return function(t){t.forEach(t=>{window.requestAnimationFrame(()=>{t.classList.remove("up")})})}(t);window.requestAnimationFrame(()=>{const n=t[o];n&&(n.classList.remove("up"),n.classList.add("up"),n.addEventListener("transitionend",e),o++)}),o===t.length&&(o=0)},120)}(t),e===t.length&&clearInterval(o)})},100)}(n.querySelectorAll("span"))},12:function(t,e){}});