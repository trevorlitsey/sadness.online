<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Test</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" media="screen" href="../bundle.css" />
	<script src="../js/libraries/paper-core.min.js" type="text/javascript"></script>
</head>

<body>

	<canvas resize></canvas>

	<style>
		canvas {
			width: 100vw;
			height: 100vh;
		}
	</style>

	<script>

		const p = paper;
		const canvas = document.querySelector('canvas');
		p.setup(canvas);

		const gray1 = 'HSLA(220, 8%, 92%, 1.00)'
		const gray2 = 'HSLA(220, 10%, 72%, 1.00)'
		const gray3 = 'HSLA(220, 10%, 52%, 1.00)'


		const shape1 = makeShape(gray1);
		const shape2 = makeShape(gray2);
		const shape3 = makeShape(gray3);

		// let center = [window.innerWidth / 2, window.innerHeight / 2];
		// shape1.onFrame = (e) => {
		// 	shape1.position = new p.Point(center[0], center[1])
		// 	console.log(center);
		// 	center[1] += .2;
		// }

		// let otherCenter = [window.innerWidth / 2, window.innerHeight / 2];
		// shape2.onFrame = (e) => {
		// 	shape2.position = new p.Point(otherCenter[0], otherCenter[1])
		// 	otherCenter[1] -= .2;
		// }

		// ------

		function makeShape(color) {
			const shape = new p.Group();

			for (let i = 0; i < window.innerHeight; i += 20) {
				const path = drawHorizontalLine(i);
				shape.addChild(path)
			}

			for (let i = 0; i < window.innerWidth; i += 20) {
				const path = drawVerticalLine(i);
				shape.addChild(path)
			}

			shape.strokeColor = color;

			return shape;
		}

		function drawHorizontalLine(y) {
			const segments = getHorizontalLineSegments(y);
			const path = new p.Path(segments);
			path.smooth({ type: 'continuous' });
			path.strokeWidth = 10;
			return path;

			// --------
			function getHorizontalLineSegments(y) {
				let wonkyY = y
				const segments = [];
				const width = window.innerWidth;
				for (let i = 0; i < 4; i++) {
					const x = i * (width / 3)
					wonkyY += Math.random() * 4 - 2;
					segments.push(new p.Point(x, wonkyY));
				}
				return segments;
			}
		}



		function drawVerticalLine(x) {
			const segments = getVerticalLineSegments(x);
			const path = new p.Path(segments);
			path.smooth({ type: 'continuous' });
			path.strokeWidth = 10;
			return path;
		}

		function getVerticalLineSegments(x) {
			let wonkyX = x;
			const segments = [];
			const height = window.innerHeight;
			for (let i = 0; i < 4; i++) {
				const y = i * (height / 3)
				wonkyX += Math.random() * 4 - 2;
				segments.push(new p.Point(wonkyX, y));
			}
			return segments;
		}


	</script>

</body>

</html>